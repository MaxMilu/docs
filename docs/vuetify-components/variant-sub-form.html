<!DOCTYPE html>

<html>
<head>
<title>Basics - Variant Sub Form - My Document</title>

<meta name='description'>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<base href='/docs/'>

<link href='index.css' rel='stylesheet' type='text/css'>

<script type='text/javascript' defer src='index.js'></script>
</head>

<body>
<div id='app' v-cloak>
<div v-init-context:vars='{hideAside: false}' class='flex h-screen'>
<div class='flex-1 flex flex-col overflow-hidden'>
<div class='flex h-full'>
<aside v-show='!vars.hideAside' class='flex flex-col w-80 h-full bg-gray-50 border-r border-gray-200 overflow-y-auto'>
<div class='h-12'><search></search></div>

<ul class='px-0 mx-0 text-base font-normal list-none text-gray-700'>
<li>
<a href='index.html' class='inline-block px-4 truncate break-words w-64 text-gray-700'>Introduction</a>
</li>

<li class='cursor-default px-4 truncate break-words w-64'>Getting Started</li>

<li>
<a href='getting-started/one-minute-quick-start.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>1 Minute Quick Start</a>
</li>

<li class='cursor-default px-4 truncate break-words w-64'>Basics</li>

<li>
<a href='basics/listing.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Listing Page</a>
</li>

<li>
<a href='basics/filter.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Filters</a>
</li>

<li>
<a href='presets-guide/editing-customizations.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Editing Customizations</a>
</li>

<li>
<a href='basics/form-handling.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Form Handling</a>
</li>

<li>
<a href='vuetify-components/basic-inputs.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Basic Inputs</a>
</li>

<li>
<a href='vuetify-components/auto-complete.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Auto Complete</a>
</li>

<li>
<a href='basics/shortcut.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Keyboard Shortcut</a>
</li>

<li>
<a href='vuetify-components/variant-sub-form.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-blue-500'>Variant Sub Form</a>
</li>

<li>
<a href='vuetify-components/linkage-select.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Linkage Select</a>
</li>

<li>
<a href='presets-guide/permissions.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Permissions</a>
</li>

<li>
<a href='basics/notification-center.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Notification Center</a>
</li>

<li class='cursor-default px-4 truncate break-words w-64'>Advanced Functions</li>

<li>
<a href='basics/page-func-and-event-func.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Page Func and Event Func</a>
</li>

<li>
<a href='advanced-functions/the-go-html-builder.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>The Go HTML builder</a>
</li>

<li>
<a href='vuetify-components/a-taste-of-using-vuetify-in-go.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>A Taste of using Vuetify in Go</a>
</li>

<li>
<a href='presets-guide/its-the-whole-house.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Not just scaffolding, it&#39;s the whole house</a>
</li>

<li>
<a href='vuetify-components/navigation-drawer.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Navigation Drawer</a>
</li>

<li>
<a href='vuetify-components/lazy-portals.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Lazy Portals</a>
</li>

<li>
<a href='basics/layout-function-and-page-injector.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Layout Function and Page Injector</a>
</li>

<li>
<a href='basics/switch-pages-with-push-state.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Switch Pages with Push State</a>
</li>

<li>
<a href='basics/reload-page-with-a-flash.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Reload Page with a Flash</a>
</li>

<li>
<a href='basics/partial-refresh-with-portal.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Partial Refresh with Portal</a>
</li>

<li>
<a href='basics/manipulate-page-url-in-event-func.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Manipulate Page URL in Event Func</a>
</li>

<li>
<a href='basics/summary-of-event-response.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Summary of Event Response</a>
</li>

<li>
<a href='basics/scope-component.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Scope Component</a>
</li>

<li>
<a href='basics/event-handling.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Event Handling</a>
</li>

<li>
<a href='presets-guide/detail-page-for-complex-object.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Detail page for complex object</a>
</li>

<li class='cursor-default px-4 truncate break-words w-64'>Digging Deeper</li>

<li>
<a href='components-guide/composite-new-component-with-go.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Composite new Component With Go</a>
</li>

<li>
<a href='components-guide/integrate-a-heavy-vue-component.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>Integrate a heavy Vue Component</a>
</li>

<li class='cursor-default px-4 truncate break-words w-64'>Appendix</li>

<li>
<a href='appendix/all-demo-examples.html' class='inline-block pl-10 pr-4 truncate break-words w-64 text-gray-700'>All Demo Examples</a>
</li>
</ul>
</aside>

<main class='flex flex-col w-full bg-white overflow-x-hidden overflow-y-auto'>
<div id='docContentBox' class='flex flex-row w-full'>
<div class='flex flex-grow flex-col w-2/3'>
<div class='flex flex-row'>
<button @click='vars.hideAside = !vars.hideAside' class='w-12 h-12 p-4'>
<div class='w-4 h-4 fill-current text-gray-300'>
<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="16px" viewBox="0 0 16 16" version="1.1">
<g id="surface1">
<path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 2 12 L 2 11 L 14 11 L 14 12 Z M 2 8.5 L 2 7.5 L 14 7.5 L 14 8.5 Z M 2 5 L 2 4 L 14 4 L 14 5 Z M 2 5 "/>
</g>
</svg>
</div>
</button>
</div>

<div id='docMainBox' class='px-16 pb-12 pt-4 overflow-auto'>
<h1 class='mb-8'>Variant Sub Form</h1>

<div class='border-t'><p>VSelect changes, the form below it will change to a new form accordingly.</p>

<p>By use of <code>web.Portal()</code> and <code>VSelect</code>&#39;s <code>OnInput</code></p>

<highlightjs :language='"go"' :code='"\nimport (\n\t\"github.com/goplaid/web\"\n\t\"github.com/goplaid/x/docs/utils\"\n\t. \"github.com/goplaid/x/vuetify\"\n\th \"github.com/theplant/htmlgo\"\n)\n\ntype myFormValue struct {\n\tType  string\n\tForm1 struct {\n\t\tGender string\n\t}\n\tForm2 struct {\n\t\tFeature1 bool\n\t\tSlider1  int\n\t}\n}\n\nfunc VuetifyVariantSubForm(ctx *web.EventContext) (pr web.PageResponse, err error) {\n\n\tvar fv myFormValue\n\tctx.MustUnmarshalForm(\u0026fv)\n\tif fv.Type == \"\" {\n\t\tfv.Type = \"Type1\"\n\t}\n\tvar verr web.ValidationErrors\n\n\tpr.Body = VContainer(\n\t\tutils.PrettyFormAsJSON(ctx),\n\n\t\tVSelect().\n\t\t\tItems([]string{\n\t\t\t\t\"Type1\",\n\t\t\t\t\"Type2\",\n\t\t\t}).\n\t\t\tValue(fv.Type).\n\t\t\tAttr(\"@change\", web.POST().\n\t\t\t\tFieldValue(\"Type\", web.Var(\"$event\")).\n\t\t\t\tEventFunc(\"switchForm\").\n\t\t\t\tGo()),\n\n\t\tweb.Portal(\n\t\t\th.If(fv.Type == \"Type1\",\n\t\t\t\tform1(ctx, \u0026fv),\n\t\t\t).Else(\n\t\t\t\tform2(ctx, \u0026fv, \u0026verr),\n\t\t\t),\n\t\t).Name(\"subform\"),\n\n\t\tVBtn(\"Submit\").OnClick(\"submit\"),\n\t)\n\treturn\n}\n\nfunc form1(ctx *web.EventContext, fv *myFormValue) h.HTMLComponent {\n\n\treturn VContainer(\n\t\th.H1(\"Form1\"),\n\t\tVRadioGroup(\n\t\t\tVRadio().Value(\"F\").Label(\"Female\"),\n\t\t\tVRadio().Value(\"M\").Label(\"Male\"),\n\t\t).FieldName(\"Form1.Gender\").\n\t\t\tValue(fv.Form1.Gender).\n\t\t\tLabel(\"Gender\"),\n\t)\n}\nfunc form2(ctx *web.EventContext, fv *myFormValue, verr *web.ValidationErrors) h.HTMLComponent {\n\n\treturn VContainer(\n\t\th.H1(\"Form2\"),\n\n\t\tVSwitch().\n\t\t\tFieldName(\"Form2.Feature1\").\n\t\t\tInputValue(fv.Form2.Feature1).\n\t\t\tLabel(\"Feature1\"),\n\n\t\tVSlider().FieldName(\"Form2.Slider1\").\n\t\t\tErrorMessages(verr.GetFieldErrors(\"Slider1\")...).\n\t\t\tValue(fv.Form2.Slider1).\n\t\t\tLabel(\"Slider1\"),\n\t)\n}\n\nfunc submit(ctx *web.EventContext) (r web.EventResponse, err error) {\n\tr.Reload = true\n\treturn\n}\n\nfunc switchForm(ctx *web.EventContext) (r web.EventResponse, err error) {\n\tvar verr web.ValidationErrors\n\n\tvar fv myFormValue\n\tctx.MustUnmarshalForm(\u0026fv)\n\tform := form1(ctx, \u0026fv)\n\tif fv.Type == \"Type2\" {\n\t\tform = form2(ctx, \u0026fv, \u0026verr)\n\t}\n\n\tr.UpdatePortals = append(r.UpdatePortals, \u0026web.PortalUpdate{\n\t\tName: \"subform\",\n\t\tBody: form,\n\t})\n\n\treturn\n}\n\nvar VuetifyVariantSubFormPB = web.Page(VuetifyVariantSubForm).\n\tEventFunc(\"switchForm\", switchForm).\n\tEventFunc(\"submit\", submit)\n\nconst VuetifyVariantSubFormPath = \"/samples/vuetify-variant-sub-form\"\n"'></highlightjs>

<div>
<div class='demo'>
<a href='/samples/vuetify-variant-sub-form' target='_blank'>Check the demo</a>
 | 
<a href='https://github.com/qor5/docs/tree/master/examples/e22_vuetify_variant_sub_form/page.go' target='_blank'>Source on GitHub</a>
</div>
</div>
</div>
</div>
</div>

<div class='font-medium text-base hidden xl:block text-gray-600 pt-4'>
<div class='sticky top-4 w-52'>On This Page<toc></toc></div>
</div>
</div>
<search-result></search-result></main>
</div>
</div>
</div>
</div>
</body>
</html>
